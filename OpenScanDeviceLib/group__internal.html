<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OpenScanDeviceLib: OpenScanDeviceLib Internals</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenScanDeviceLib
   </div>
   <div id="projectbrief">OpenScan Device Programming Interface</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">OpenScanDeviceLib Internals</div>  </div>
</div><!--header-->
<div class="contents">

<p>These are the internal workings of OpenScanDeviceLib; device modules must not use these declarations and definitions directly.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_o_sc_dev_internal___interface.html">OScDevInternal_Interface</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface function table for module to call OpenScanLib.  <a href="struct_o_sc_dev_internal___interface.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga590e0988851703817b1cd37f095071c5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga590e0988851703817b1cd37f095071c5">OScDevInternal_ABI_VERSION</a>&#160;&#160;&#160;<a class="el" href="group__internal.html#ga5ca01dbdfa3dd03d78e7af726eac7ad3">OScDevInternal_MAKE_VERSION</a>(13, 0)</td></tr>
<tr class="memdesc:ga590e0988851703817b1cd37f095071c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Binary interface version between device module and OpenScanLib.  <a href="group__internal.html#ga590e0988851703817b1cd37f095071c5">More...</a><br /></td></tr>
<tr class="separator:ga590e0988851703817b1cd37f095071c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga73462e937ff2a64df1621803aa7b5ede"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga73462e937ff2a64df1621803aa7b5ede">OScDevInternal_ENTRY_POINT</a>&#160;&#160;&#160;OScDev_Module_EntryPoint_v0</td></tr>
<tr class="memdesc:ga73462e937ff2a64df1621803aa7b5ede"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the device module entry point function.  <a href="group__internal.html#ga73462e937ff2a64df1621803aa7b5ede">More...</a><br /></td></tr>
<tr class="separator:ga73462e937ff2a64df1621803aa7b5ede"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga33214298c7ac99be84e0b14526970628"><td class="memItemLeft" align="right" valign="top"><a id="ga33214298c7ac99be84e0b14526970628"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga33214298c7ac99be84e0b14526970628">OScDevInternal_ENTRY_POINT_NAME</a>&#160;&#160;&#160;OScDevInternal_STRINGIFY_EXPANSION(<a class="el" href="group__internal.html#ga5ff029b89250172af72180ea76995c1a">OScDevInternal_ENTRY_POINT</a>)</td></tr>
<tr class="memdesc:ga33214298c7ac99be84e0b14526970628"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the entry point, used to obtain its address. <br /></td></tr>
<tr class="separator:ga33214298c7ac99be84e0b14526970628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ca01dbdfa3dd03d78e7af726eac7ad3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga5ca01dbdfa3dd03d78e7af726eac7ad3">OScDevInternal_MAKE_VERSION</a>(major,  minor)&#160;&#160;&#160;(((uint32_t)(major) &lt;&lt; 16) | (uint16_t)(minor))</td></tr>
<tr class="memdesc:ga5ca01dbdfa3dd03d78e7af726eac7ad3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an ABI version number.  <a href="group__internal.html#ga5ca01dbdfa3dd03d78e7af726eac7ad3">More...</a><br /></td></tr>
<tr class="separator:ga5ca01dbdfa3dd03d78e7af726eac7ad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5173c45ee1e037bbc00cf41286dbd4f6"><td class="memItemLeft" align="right" valign="top"><a id="ga5173c45ee1e037bbc00cf41286dbd4f6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OScDevInternal_STRINGIFY</b>(s)&#160;&#160;&#160;#s</td></tr>
<tr class="separator:ga5173c45ee1e037bbc00cf41286dbd4f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4e66a30da15c22edb5c57dcd4d4e47b2"><td class="memItemLeft" align="right" valign="top"><a id="ga4e66a30da15c22edb5c57dcd4d4e47b2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>OScDevInternal_STRINGIFY_EXPANSION</b>(s)&#160;&#160;&#160;OScDevInternal_STRINGIFY(s)</td></tr>
<tr class="separator:ga4e66a30da15c22edb5c57dcd4d4e47b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaef2bce8a403a22b812f2d89deedd09cc"><td class="memItemLeft" align="right" valign="top"><a id="gaef2bce8a403a22b812f2d89deedd09cc"></a>
typedef uint32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gaef2bce8a403a22b812f2d89deedd09cc">OScDevInternal_EntryPointPtr</a>) (struct <a class="el" href="struct_o_sc_dev_internal___interface.html">OScDevInternal_Interface</a> ***devif, <a class="el" href="struct_o_sc_dev___module_impl.html">OScDev_ModuleImpl</a> **impl)</td></tr>
<tr class="memdesc:gaef2bce8a403a22b812f2d89deedd09cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to module entry point function. <br /></td></tr>
<tr class="separator:gaef2bce8a403a22b812f2d89deedd09cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga5ff029b89250172af72180ea76995c1a"><td class="memItemLeft" align="right" valign="top">uint32_t OScDevInternal_ENTRY_POINT_EXPORT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga5ff029b89250172af72180ea76995c1a">OScDevInternal_ENTRY_POINT</a> (struct <a class="el" href="struct_o_sc_dev_internal___interface.html">OScDevInternal_Interface</a> ***devif, <a class="el" href="struct_o_sc_dev___module_impl.html">OScDev_ModuleImpl</a> **impl)</td></tr>
<tr class="memdesc:ga5ff029b89250172af72180ea76995c1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Entry point of device module.  <a href="group__internal.html#ga5ff029b89250172af72180ea76995c1a">More...</a><br /></td></tr>
<tr class="separator:ga5ff029b89250172af72180ea76995c1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga02e272dd46f8530d47170f59ebf71325"><td class="memItemLeft" align="right" valign="top"><a id="ga02e272dd46f8530d47170f59ebf71325"></a>
struct <a class="el" href="struct_o_sc_dev_internal___interface.html">OScDevInternal_Interface</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga02e272dd46f8530d47170f59ebf71325">OScDevInternal_FunctionTable</a></td></tr>
<tr class="memdesc:ga02e272dd46f8530d47170f59ebf71325"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the interface function table provided by OpenScanLib. <br /></td></tr>
<tr class="separator:ga02e272dd46f8530d47170f59ebf71325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga09380a0c3698d933c4a86a94bf78e81b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_o_sc_dev___module_impl.html">OScDev_ModuleImpl</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga09380a0c3698d933c4a86a94bf78e81b">OScDevInternal_TheModuleImpl</a></td></tr>
<tr class="memdesc:ga09380a0c3698d933c4a86a94bf78e81b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the module implementation provided by the device module.  <a href="group__internal.html#ga09380a0c3698d933c4a86a94bf78e81b">More...</a><br /></td></tr>
<tr class="separator:ga09380a0c3698d933c4a86a94bf78e81b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>These are the internal workings of OpenScanDeviceLib; device modules must not use these declarations and definitions directly. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga73462e937ff2a64df1621803aa7b5ede"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga73462e937ff2a64df1621803aa7b5ede">&#9670;&nbsp;</a></span>OScDevInternal_ENTRY_POINT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OScDevInternal_ENTRY_POINT&#160;&#160;&#160;OScDev_Module_EntryPoint_v0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Name of the device module entry point function. </p>
<p>The name includes a version number in case we want to change the signature or semantics of the entry point. OpenScanLib will only search for entry point names with version number(s) it knows about. </p>

<p class="definition">Definition at line <a class="el" href="_open_scan_device_lib_private_8h_source.html#l00040">40</a> of file <a class="el" href="_open_scan_device_lib_private_8h_source.html">OpenScanDeviceLibPrivate.h</a>.</p>

</div>
</div>
<a id="ga5ca01dbdfa3dd03d78e7af726eac7ad3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ca01dbdfa3dd03d78e7af726eac7ad3">&#9670;&nbsp;</a></span>OScDevInternal_MAKE_VERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OScDevInternal_MAKE_VERSION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">major, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">minor&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;(((uint32_t)(major) &lt;&lt; 16) | (uint16_t)(minor))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create an ABI version number. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__internal.html#ga590e0988851703817b1cd37f095071c5" title="Binary interface version between device module and OpenScanLib.">OScDevInternal_ABI_VERSION</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="_open_scan_device_lib_8h_source.html#l00057">57</a> of file <a class="el" href="_open_scan_device_lib_8h_source.html">OpenScanDeviceLib.h</a>.</p>

</div>
</div>
<a id="ga590e0988851703817b1cd37f095071c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga590e0988851703817b1cd37f095071c5">&#9670;&nbsp;</a></span>OScDevInternal_ABI_VERSION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OScDevInternal_ABI_VERSION&#160;&#160;&#160;<a class="el" href="group__internal.html#ga5ca01dbdfa3dd03d78e7af726eac7ad3">OScDevInternal_MAKE_VERSION</a>(13, 0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Binary interface version between device module and OpenScanLib. </p>
<p>Device modules should not need to be concerned with this version number. It is used to allow OpenScanLib to correctly interact with (or reject) device modules built with different versions of OpenScanDeviceLib.</p>
<p>Since this version number applies to the binary interface, it has no particular relationship to the release version number of OpenScanLib or OpenScanDeviceLib.</p>
<p>The version number is a 32-bit unsigned integer, with the high 16 bits representing the major version and the low 16 bits the minor version.</p>
<p>Device modules written for version <code>x.y</code> will continue to work with a version of OpenScanLib with device ABI version <code>x.z</code> where <code>z &gt;= y</code>, without any special handling. However, it will not work with an OpenScanLib with device ABI version <code>x.w</code> where <code>w &lt; y</code>. This intent leads to the following policy (which may not cover all edge cases):</p>
<p>The minor version must be incremented when one of the following changes are made:</p><ul>
<li>A module-to-OpenScanLib call is added at the end of <code><a class="el" href="struct_o_sc_dev_internal___interface.html" title="Interface function table for module to call OpenScanLib.">OScDevInternal_Interface</a></code></li>
<li>A previously required device implementation field becomes optional</li>
<li>An optional field is added at the end of a device implementation struct</li>
<li>A new <code>enum</code> constant is added (at the end) to an <code>enum</code> type that is not interpreted by modules</li>
</ul>
<p>The major version must be incremented (and the minor version reset to 0) when any other change is made.</p>
<p>Version numbers should be set correctly for each Git commit. If a related set of changes is to be made over multiple commits, the version number can be set to <code>(-1, 0)</code> in intermediate commits to indicate "experimental". </p>

<p class="definition">Definition at line <a class="el" href="_open_scan_device_lib_8h_source.html#l00095">95</a> of file <a class="el" href="_open_scan_device_lib_8h_source.html">OpenScanDeviceLib.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga5ff029b89250172af72180ea76995c1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ff029b89250172af72180ea76995c1a">&#9670;&nbsp;</a></span>OScDevInternal_ENTRY_POINT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t OScDevInternal_ENTRY_POINT_EXPORT OScDevInternal_ENTRY_POINT </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_o_sc_dev_internal___interface.html">OScDevInternal_Interface</a> ***&#160;</td>
          <td class="paramname"><em>devif</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_o_sc_dev___module_impl.html">OScDev_ModuleImpl</a> **&#160;</td>
          <td class="paramname"><em>impl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Entry point of device module. </p>
<p>This function, defined by OpenScanDeviceLib, is called by OpenScanLib after loading the device module. It allows OpenScanLib to check the module's device interface version and obtain the module's implementation function table.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">devif</td><td>set to the address of the module's (static) pointer to the device interface function table (after this function returns, OpenScanLib will set the pointer) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">impl</td><td>set to the address of the module's implementation function table </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the module's device interface version </dd></dl>

<p class="definition">Definition at line <a class="el" href="_open_scan_device_lib_8c_source.html#l00007">7</a> of file <a class="el" href="_open_scan_device_lib_8c_source.html">OpenScanDeviceLib.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga09380a0c3698d933c4a86a94bf78e81b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga09380a0c3698d933c4a86a94bf78e81b">&#9670;&nbsp;</a></span>OScDevInternal_TheModuleImpl</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_o_sc_dev___module_impl.html">OScDev_ModuleImpl</a> OScDevInternal_TheModuleImpl</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to the module implementation provided by the device module. </p>
<dl class="section see"><dt>See also</dt><dd>OScDev_DEFINE_MODULE_IMPL </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
